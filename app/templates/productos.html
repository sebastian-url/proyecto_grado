<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Gestión de Productos - AvenaCorp</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/productos.css') }}">
  <link rel="icon" href="{{ url_for('static', filename='img/icono.png') }}">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

  <!-- Navbar -->
  <div class="navbar">
    <button class="menu-toggle" id="toggleMenu">☰</button>
    <h1>AvenaCorp - Productos</h1>
    <div class="usuario">Bienvenido, <span id="nombre-usuario">Cargando...</span></div>
  </div>

  <!-- Menú lateral -->
  <div class="sidebar" id="sidebarMenu">
    <a href="/menu">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-house-icon lucide-house"><path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"/><path d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/></svg>
        Inicio
    </a>
    <a href="/productos">
      <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-package-icon lucide-package"><path d="M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z"/><path d="M12 22V12"/><polyline points="3.29 7 12 12 20.71 7"/><path d="m7.5 4.27 9 5.15"/></svg>
      Productos
    </a>
    <a href="/usuarios">
      <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users-icon lucide-users"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><path d="M16 3.128a4 4 0 0 1 0 7.744"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><circle cx="9" cy="7" r="4"/></svg>
      Usuarios
    </a>
    <a href="/pedidos">
      <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-notepad-text-icon lucide-notepad-text"><path d="M8 2v4"/><path d="M12 2v4"/><path d="M16 2v4"/><rect width="16" height="18" x="4" y="4" rx="2"/><path d="M8 10h6"/><path d="M8 14h8"/><path d="M8 18h5"/></svg>
      Pedidos
    </a>
    <a href="/historiales">
      <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock9-icon lucide-clock-9"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 7.5 12"/></svg>
      Historial
    </a>
    <a href="/logout">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-log-out-icon lucide-log-out"><path d="m16 17 5-5-5-5"/><path d="M21 12H9"/><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/></svg>
      Cerrar sesión
    </a>
  </div>

  <!-- Modal de mensaje -->
  <div id="modalMensaje" class="modal" style="display: none;">
    <div class="modal-content">
      <p id="textoMensaje"></p>
    </div>
  </div>

  <!-- Contenido principal -->
  <div class="contenido">
    <h2>Gestión de Productos</h2>
    <br>
    <button onclick="abrirModal('modalAgregar')" class="botonAñadir">Añadir Producto</button>

    <table class="tabla-productos">
      <thead>
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Descripción</th>
          <th>Precio</th>
          <th>Imagen</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr>
        </tr>
        <!-- Más filas aquí dinámicamente si deseas -->
      </tbody>
    </table>

    <!-- Modal Agregar -->
    <div id="modalAgregar" class="modal" style="display: none;">
        <div class="modal-contenido">
            <form id="formAgregarProducto" enctype="multipart/form-data">
                <h3>Registrar Producto</h3>
                <label>Nombre: <input type="text" id="nombre" name="nombre"></label><br>
                <label>Descripcion: <input type="text" id="descripcion" name="descripcion"></label><br>
                <label>Precio: <input type="number" id="precio" name="precio"></label><br>
                <label>Imagen: <input type="file" id="imagen" name="imagen"></label><br>
                <div class="modal-botones">
                  <button type="button" onclick="cerrarModal('modalAgregar')">Cancelar</button>
                  <button type="submit">Guardar</button>
                </div>
            </form>
        </div>
    </div>
    </div>

    <!-- Modal Editar -->
    <div id="modalEditar" class="modal" style="display: none;">
        <div class="modal-contenido">
            <h3>Modificar Producto</h3>
            <form id="formEditarProducto" enctype="multipart/form-data">
                <input type="hidden" id="editar-id" name="editar-id">
                <label>Nombre: <input type="text" id="editar-nombre" name="editar-nombre"></label><br>
                <label>Descripción: <input type="text" id="editar-descripcion" name="editar-descripcion"></label><br>
                <label>Precio: <input type="number" id="editar-precio" name="editar-precio"></label><br>
                <label>Imagen: <input type="file" id="editar-imagen" name="editar-imagen"></label><br>
                <div class="modal-botones">
                    <button type="button" onclick="cerrarModal('modalEditar')">Cancelar</button>
                    <button>Actualizar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Eliminar -->
    <div id="modalEliminar" class="modal" style="display: none;">>
    <div class="modal-contenido">
        <form id="formEliminarProducto">
            <input type="hidden" id="eliminar-id">
            <h3>¿Deseas eliminar este producto?</h3>
            <label id="nombre_producto"></label>
            <br>
            <label id="descripcion_producto"></label>
            <div class="modal-botones">
                <button type="button" onclick="cerrarModal('modalEliminar')">Cancelar</button>
                <button type="submit">Eliminar</button>
            </div>
        </form>
    </div>
    </div>

  </div>

  <script src="{{ url_for('static', filename='js/productos.js') }}"></script>

</body>
</html>
